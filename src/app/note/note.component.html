<!--<section class="background-threads careers-threads">-->
<!--  <div class="fade-in-section disable-fade-in is-visible fade-in-hero disable-transform">-->
<!--    <div class="container hero-splash-container">-->
<!--      <div class="row pv90-60">-->
<!--        <div class="col-sm-12 col-md-8 hero-splash">-->
<!--          <a class="hero-parent-title crown-link" routerLink="/notes">-->
<!--            <h3 class="h1 small mb0 d-inline">{{ 'note.All' | translate }}</h3>-->
<!--          </a>-->
<!--          <h1 class="hero-title" style="color: white">{{ currentNote }}</h1>-->
<!--        </div>-->
<!--        <div class="col-12"></div>-->
<!--        <div class="col-sm-12 col-md-5"></div>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</section>-->
<section class="background-grid-white">
  <div class="container teaser-container">
    <div *ngIf="isSmallScreen" style="margin-bottom: 80px"></div>
    <div class="row align-items-center justify-content-between" *ngIf="ready">
      <div class="col-sm-12 col-md-5 teaser-context pv120-90">
        <h2 class="hero-title" style="margin-bottom: 50px;">{{ currentNote }}</h2>
        {{ noteIntroText }}
      </div>
      <div class="col-sm-12 col-md-5 order-first teaser-image pv120-90" *ngIf="!isThereNote">
        <h1 style="text-align:center">
          <p>{{ 'note.isNote' | translate }}</p>
        </h1>
      </div>
      <div class="col-sm-12 col-md-5 order-first teaser-image pv120-90" *ngIf="isThereNote">
        <div class="header-subsection-date-section d-flex ml-2 mb-5">
          <label class="header-subsection-date">{{ 'note.last_update' | translate }}: {{ lastUpdate }}</label>
        </div>
        <div class="fade-in-section disable-fade-in is-visible">
          <div class=" gatsby-image-wrapper"
               style="position: relative; overflow: hidden; max-width: 533px; max-height: 400px;">
            <div aria-hidden="true" style="width: 100%; padding-bottom: 75.188%;"></div>
            <img aria-hidden="true" src="" alt=""
                 style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; object-fit: cover; object-position: center center; opacity: 0; transition-delay: 500ms;">
            <picture>
              <source
                [srcset]="noteImageUrl + ' 133w,' + noteImageUrl + ' 267w,' + noteImageUrl +' 533w,' + noteImageUrl +' 600w'"
                sizes="(max-width: 533px) 100vw, 533px">
              <img sizes="(max-width: 533px) 100vw, 533px"
                   [srcset]="noteImageUrl + ' 133w,' + noteImageUrl + ' 267w,' + noteImageUrl +' 533w,' + noteImageUrl +' 600w'"
                   [src]="noteImageUrl" [alt]="currentNote" loading="lazy"
                   style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; object-fit: cover; object-position: center center; opacity: 1; transition: opacity 500ms ease 0s;">
            </picture>
            <noscript>
              <picture>
                <source
                  [srcset]="noteImageUrl + ' 133w,' + noteImageUrl + ' 267w,' + noteImageUrl +' 533w,' + noteImageUrl +' 600w'"
                  sizes="(max-width: 533px) 100vw, 533px"/>
                <img loading="lazy" sizes="(max-width: 533px) 100vw, 533px"
                     [srcset]="noteImageUrl + ' 133w,' + noteImageUrl + ' 267w,' + noteImageUrl +' 533w,' + noteImageUrl +' 600w'"
                     [src]="noteImageUrl" [alt]="currentNote"
                     style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/>
              </picture>
            </noscript>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<div class="border-top-black is-visible">
  <section class="content-section-mobile background-white">
    <div class="container content_nav-container" id="top">
      <div class="row" *ngIf="isThereNote">
<!--        <div class="col-lg-4 col-md-12 col-sm-12 d-md-block pt120 mb45">-->
<!--          <div class="jump-nav">-->
<!--            <div class="fade-in-section disable-fade-in is-visible">-->
<!--              <div *ngIf="!ready" class="mt-5 pt-2">-->
<!--                <p>-->
<!--                  <p-skeleton width="18rem" height="7rem" borderRadius="0"></p-skeleton>-->
<!--                </p>-->
<!--              </div>-->
<!--              <div class="jump-nav__container" *ngIf="ready" id="jump-nav" [ngClass]="{'sticky':stickyMenu && isSmallScreen}">-->
<!--                <div class="jump-nav__header">-->
<!--                  <div>-->
<!--                    <div class="label">{{ 'note.content' | translate }}</div>-->
<!--                    <h2 class="h6 bold mb0 d-block d-md-none" *ngIf="filterValue !== 'ALL'">{{ filterValue }}</h2>-->
<!--                    <h2 class="h6 bold mb0 d-block d-md-none"-->
<!--                        *ngIf="filterValue === 'ALL'">{{ 'note.All' | translate }}</h2>-->
<!--                  </div>-->
<!--                  <div class="jump-nav__mobile" *ngIf="isSmallScreen">-->
<!--                    <button class="jump-nav__mobile-button" (click)="open()">-->
<!--                      <svg class="icon icon-white" [ngClass]="{'rotate-180':openedMenu}"-->
<!--                           aria-labelledby="point-down-icon" role="img" viewBox="0 0 30 30">-->
<!--                        <title id="point-down-icon">Point Down Icon</title>-->
<!--                        <polygon fill-rule="nonzero"-->
<!--                                 points="23.354 12.075 15.499 19.929 7.646 12.075 8.353 11.368 15.498 18.514 22.646 11.367 23.354 12.075"></polygon>-->
<!--                      </svg>-->
<!--                    </button>-->
<!--                  </div>-->
<!--                </div>-->
<!--                <ul class="jump-nav__items" [ngClass]="{'d-block':openedMenu}">-->
<!--                  <h6 class="mb0 pt15 jump-nav__item-wrapper" #elt id="all">-->
<!--                    <div>-->
<!--                      <a class="jump-nav__item bold" style="cursor: pointer"-->
<!--                         (click)="filter('ALL', elt)">{{ 'note.All' | translate }}</a>-->
<!--                    </div>-->
<!--                  </h6>-->
<!--                  <h6 class="mb0 pt15 jump-nav__item-wrapper" *ngFor="let item of content">-->
<!--                    <div>-->
<!--                      <a class="jump-nav__item bold" style="cursor: pointer" #elt-->
<!--                         (click)="filter(item.note, elt)">{{ item.note }}</a>-->
<!--                    </div>-->
<!--                  </h6>-->
<!--                </ul>-->
<!--              </div>-->
<!--            </div>-->
<!--          </div>-->
<!--        </div>-->
        <div class="col-lg-8 col-md-12 col-sm-12 pb120-90 pt120-45 content-area-content" [ngClass]="{ 'border-left-black':!isSmallScreen }">
<!--          <p-progressSpinner *ngIf="!ready"></p-progressSpinner>-->

          <div *ngIf="!ready">
            <div class="wfb-card-wrapper pt60">
              <div class="no-gutters" [ngClass]="{ 'small':!isSmallScreen, 'row':isSmallScreen }">
                <div [ngClass]="{ 'col-md-12':isSmallScreen }">
                  <div class="wfb-card__body-container">
                    <div class="wfb-card__link-container">
                      <h5 class="mb-5 pb-5">
                        <p-skeleton width="18rem" height="3rem" borderRadius="0"></p-skeleton>
                      </h5>
                    </div>

                    <div class="wfb-card__link-container">
                      <div class="mb-5" style="display: flex; flex-direction: row; flex-wrap: nowrap">
                        <div class="mr-4">
                          <p-skeleton width="2rem" height="2rem" borderRadius="0"></p-skeleton>
                        </div>
                        <div>
                          <p-skeleton width="13rem" height="2rem" borderRadius="0"></p-skeleton>
                        </div>
                      </div>
                    </div>
                    <h6 style="font-weight: normal; margin-bottom: 0">
                      <p>
                        <p-skeleton width="18rem" height="10rem" borderRadius="0"></p-skeleton>
                      </p>
                    </h6>
                    <div class="thee-link-container">
                      <div>
                        <div class="wfb-card__link-container"
                             style="display: flex; flex-direction: row; flex-wrap: wrap">
                          <div class="wfb-card__text mr-auto mb-1 mt-1">
                            <p
                              style="color: darkgray; font-size: 14px">
                              <p-skeleton width="6rem" height="1rem" borderRadius="0"></p-skeleton>
                            </p>
                          </div>
                          <div class="wfb-card__text mb-1 mt-1">
                            <p
                              style="color: darkgray; font-size: 14px">
                              <p-skeleton width="6rem" height="1rem" borderRadius="0"></p-skeleton>
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="thee-link-container">
                      <div>
                        <div class="wfb-card__link-container"
                             style="display: flex; flex-direction: row; flex-wrap: wrap">
                          <div class="wfb-card__text mr-auto mb-1 mt-1">
                            <p
                              style="color: darkgray; font-size: 14px">
                              <p-skeleton width="6rem" height="1rem" borderRadius="0"></p-skeleton>
                            </p>
                          </div>
                          <div class="wfb-card__text mb-1 mt-1">
                            <p
                              style="color: darkgray; font-size: 14px">
                              <p-skeleton width="6rem" height="1rem" borderRadius="0"></p-skeleton>
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div>
            <br>
          </div>

          <div class="free-form-content__content wysiwyg-wrapper" *ngIf="ready">
            <div>
<!--              <h2 class="pb100" *ngIf="filterValue === 'ALL'">{{ 'note.alerts' | translate }}-->
<!--                [{{ 'note.All' | translate }}]</h2>-->
              <h2 class="pb-4 ml-3" *ngIf="filterValue === 'ALL'">{{ 'note.All' | translate }}</h2>
<!--              <h2 class="pb100" *ngIf="filterValue !== 'ALL'">{{ 'note.alerts' | translate }} [{{ filterValue }}]</h2>-->

              <p-dataView emptyMessage="{{ 'note.isNote' | translate }}" *ngIf="ready" #dv [value]="filteredNotes" [paginator]="true" [rows]="5"
                          layout="grid">
                <ng-template pTemplate="header">
                  <p-accordion>
                    <p-accordionTab header="{{ 'resources.advanced' | translate }}" [selected]="false">

                      <div style="display: flex; flex-direction: column; flex-wrap: wrap" class="mb-2">

                        <div class="mr-auto mb-3" id="marches">
                          <label for="marches">{{ 'resources.markets' | translate }}:</label><br>
                          <p-dropdown #market [showClear]="true" [options]="markets" [filter]="!isSmallScreen" filterBy="Nom"
                                      optionLabel="Nom" placeholder="{{ 'resources.market' | translate }}"
                                      optionValue="Nom"></p-dropdown>
                        </div>

                        <div class="mr-3 mb-3" id="themes">
                          <label for="themes">{{ 'resources.themes' | translate }}:</label><br>
                          <p-dropdown #theme [showClear]="true" [options]="themes" [filter]="!isSmallScreen" filterBy="Nom"
                                      optionLabel="Nom" placeholder="{{ 'resources.theme' | translate }}"
                                      optionValue="Nom"></p-dropdown>
                        </div>
                      </div>

                      <div style="display: flex; flex-direction: column; flex-wrap: wrap" class="mb-2">
                        <div class="mr-3 mb-3" id="date_debut">
                          <label for="date_debut">{{ 'resources.begin' | translate }}:</label><br>
                          <p-calendar #debut dateFormat="mm-dd-yy" [showIcon]="true" inputId="icon"></p-calendar>
                        </div>

                        <div class="mr-3 mb-3" id="date_fin">
                          <label for="date_fin">{{ 'resources.end' | translate }}:</label><br>
                          <p-calendar #fin dateFormat="mm-dd-yy" [showIcon]="true" inputId="icon"></p-calendar>
                        </div>

                      </div>

                      <div class="mb-5" style="display: flex; flex-direction: row; flex-wrap: nowrap">
                        <button pButton
                                (click)="search(currentNote, market.value, theme.value, debut.value, fin.value)"
                                [style.border-radius.px]="0" [loading]="searching"
                                label="{{ 'resources.search' | translate }}" icon="pi pi-arrow-right"
                                iconPos="right"
                                class="p-button-lg p-button-outlined p-button-secondary search-input"></button>
                      </div>
                      <div>
                        <button class="link-style-button pb-3" [style.height.px]="22"
                                (click)="getNoteProperties(current)">{{ 'resources.clear' | translate }}</button>
                      </div>
                      <span class="mt-3"></span>
                    </p-accordionTab>
                  </p-accordion>
                </ng-template>
                <ng-template let-con pTemplate="gridItem">
                  <div>
                    <div>
                      <div class="wfb-card-wrapper pt60" *ngIf="!searching">
                        <div class="no-gutters" [ngClass]="{ 'row':isSmallScreen }">
                          <div class="ml-3" [ngClass]="{ 'col-md-12':isSmallScreen }">
                            <div class="wfb-card__body-container">
                              <div class="wfb-card__body-container">
                                <div class="wfb-card__link-container">
                                  <h5>
                                <span class="col-4" [ngStyle]="{'background-color':con.color}"
                                      style="padding: 2px 12px; width: 100px; margin-right: 8px;"></span>
                                    <span class="col-8">{{ con.title }}</span>
                                  </h5>
                                </div>
                                <h6 style="font-weight: normal; margin-bottom: 0">
                                  <p>
                                    {{ con.text }}
                                  </p>
                                </h6>
                                <div class="thee-link-container">
                                  <div>
                                    <div class="wfb-card__link-container"
                                         style="display: flex; flex-direction: row; flex-wrap: wrap">
                                      <div class="wfb-card__text mr-5 mb-1 mt-1 mr-auto"><p
                                        style="color: darkgray; font-size: 14px"
                                        class="mr-5">{{ 'sector.publish' | translate }}: {{ con.date }}</p></div>
                                      <div class="wfb-card__text mb-1 mt-1"><p
                                        style="color: darkgray; font-size: 14px">{{ 'sector.followed_by' | translate }}
                                        : {{ con.author }}</p></div>
                                    </div>
                                  </div>
                                </div>
                                <div class="thee-link-container">
                                  <div>
                                    <div class="wfb-card__link-container"
                                         style="display: flex; flex-direction: row; flex-wrap: wrap">
                                      <div class="wfb-card__text col-xl-6 col-lg-6 col-md-6 mb-1 mt-1 mr-auto"
                                           *ngIf="con.markets !== 'All'"
                                           style="margin-top: 8px">
                                        <p style="color: darkgray; font-size: 14px">{{ 'sector.market' | translate }}:
                                          <span *ngFor="let market of con.markets">{{ market.Nom }}<span
                                            *ngIf="!(market.Nom === con.markets[con.markets.length - 1].Nom)">, </span></span>
                                        </p>
                                      </div>
                                      <div style="display: flex; flex-direction: row; flex-wrap: nowrap">
                                        <div class="wfb-card__text" style="margin-top: 8px">
                                          <p
                                            style="color: darkgray; font-size: 14px; text-align: center">{{ 'sector.source' | translate }}
                                            : </p>
                                        </div>
                                        <div class="wfb-card__text">
                                          <button style="margin: 0; padding: 0; border: none;"
                                                  (click)="redirectTo(con.source)">
                                            <svg class="icon" role="img" aria-labelledby="file-icon" viewBox="0 0 30 30">
                                              <path
                                                d="M16.667,7 L9,7 L9,24 L22,24 L22,12.308 L16.667,7 Z M17,8.742 L20.273,12 L17,12 L17,8.742 Z M10,23 L10,8 L16,8 L16,13 L21,13 L21,23 L10,23 Z"
                                                fill="#161618" fill-rule="nonzero"></path>
                                            </svg>
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-template>
              </p-dataView>

<!--              <div-->
<!--                *ngFor="let con of filteredNotes  | paginate: { itemsPerPage: 5, currentPage: page, totalItems: totalItems}">-->
<!--                <div>-->
<!--                  <div>-->
<!--                    <div class="wfb-card-wrapper pb60">-->
<!--                      <div class="row no-gutters">-->
<!--                        <div class="col-md-12">-->
<!--                          <div class="wfb-card__body-container">-->
<!--                            <div class="wfb-card__link-container">-->
<!--                              <h5>-->
<!--                                <span class="col-4" [ngStyle]="{'background-color':con.color}"-->
<!--                                      style="padding: 2px 12px; width: 100px; margin-right: 8px;"></span>-->
<!--                                <span class="col-8">{{ con.title }}</span>-->
<!--                              </h5>-->
<!--                            </div>-->
<!--                            <h6 style="font-weight: normal; margin-bottom: 0">-->
<!--                              <p>-->
<!--                                {{ con.text }}-->
<!--                              </p>-->
<!--                            </h6>-->
<!--                            <div class="thee-link-container">-->
<!--                              <div>-->
<!--                                <div class="wfb-card__link-container"-->
<!--                                     style="display: flex; flex-direction: row; flex-wrap: wrap">-->
<!--                                  <div class="wfb-card__text mr-5 mb-1 mt-1 mr-auto"><p-->
<!--                                    style="color: darkgray; font-size: 14px"-->
<!--                                    class="mr-5">{{ 'note.publish' | translate }}: {{ con.date }}</p></div>-->
<!--                                  <div class="wfb-card__text mb-1 mt-1"><p-->
<!--                                    style="color: darkgray; font-size: 14px">{{ 'note.followed_by' | translate }}-->
<!--                                    : {{ con.author }}</p></div>-->
<!--                                </div>-->
<!--                              </div>-->
<!--                            </div>-->
<!--                            <div class="thee-link-container">-->
<!--                              <div>-->
<!--                                <div class="wfb-card__link-container"-->
<!--                                     style="display: flex; flex-direction: row; flex-wrap: wrap">-->
<!--                                  <div class="wfb-card__text col-xl-6 col-lg-6 col-md-6 mb-1 mt-1 mr-auto"><p-->
<!--                                    style="color: darkgray; font-size: 14px">{{ 'note.market' | translate }}:-->
<!--                                    <span *ngFor="let market of con.markets">{{ market.Nom }}<span-->
<!--                                      *ngIf="!(market.Nom === con.markets[con.markets.length - 1].Nom)">, </span>-->
<!--                                    </span>-->
<!--                                  </p>-->
<!--                                  </div>-->
<!--                                  <div style="display: flex; flex-direction: row; flex-wrap: nowrap">-->
<!--                                    <div class="wfb-card__text" style="margin-top: 8px">-->
<!--                                      <p-->
<!--                                        style="color: darkgray; font-size: 14px; text-align: center">{{ 'note.source' | translate }}-->
<!--                                        : </p>-->
<!--                                    </div>-->
<!--                                    <div class="wfb-card__text">-->
<!--                                      <button style="margin: 0; padding: 0; border: none;"-->
<!--                                              (click)="redirectTo(con.source)">-->
<!--                                        <svg class="icon" role="img" aria-labelledby="file-icon" viewBox="0 0 30 30">-->
<!--                                          <path-->
<!--                                            d="M16.667,7 L9,7 L9,24 L22,24 L22,12.308 L16.667,7 Z M17,8.742 L20.273,12 L17,12 L17,8.742 Z M10,23 L10,8 L16,8 L16,13 L21,13 L21,23 L10,23 Z"-->
<!--                                            fill="#161618" fill-rule="nonzero"></path>-->
<!--                                        </svg>-->
<!--                                      </button>-->
<!--                                    </div>-->
<!--                                  </div>-->
<!--                                </div>-->
<!--                              </div>-->
<!--                            </div>-->
<!--                          </div>-->
<!--                        </div>-->
<!--                      </div>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                </div>-->
<!--              </div>-->
            </div>
<!--            <pagination-controls-->
<!--              style="position: absolute; bottom: 15px"-->
<!--              previousLabel="Précédent"-->
<!--              nextLabel="Suivant"-->
<!--              responsive="true" (pageChange)="page=$event"-->
<!--              [ngStyle]="{'position': isSmallScreen ? {'position' : 'absolute', 'bottom.px' : 0} : {}}"></pagination-controls>-->
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
